package h1Java_Advanced_Stacks_and_Queues;

import java.util.Scanner;
import java.util.Stack;

public class Problem10SimpleTextEditor {
/*1 someString - appends someString to the end of the text
2 count - erases the last count elements from the text
3 index - returns the element at position index from the text
4 - undoes the last not undone command of type 1 / 2 and returns the text to the state before that operation*/
    public static void main(String[] args) {
        String text="";
        Stack<String> textArchive=new Stack<>();
        Scanner n=new Scanner(System.in);
        Scanner command=new Scanner(System.in);
        int numberOfCommands=n.nextInt();
        String query=null;
        for (int i = 0; i < numberOfCommands; i++) {
            query=command.nextLine();
            if (query.charAt(0)=='1') {
                text+=query.split(" ")[1];
                textArchive.push(text);  
            }
            if (query.charAt(0)=='2') {
                int count=Integer.parseInt(query.split(" ")[1]);
                text=text.substring(0, text.length()-1-count);
                textArchive.push(text); 
            }
            if (query.charAt(0)=='3') {
                int index=Integer.parseInt(query.split(" ")[1]);
                System.out.println(text.charAt(index));
            }
            if (query.charAt(0)=='4') {
                textArchive.pop();
            }
        }
        n.close();
        command.close();

    }

}
