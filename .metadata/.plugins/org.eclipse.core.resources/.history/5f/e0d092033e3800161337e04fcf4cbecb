import java.util.ArrayList;
import java.util.List;

import javax.sound.midi.MidiChannel;

/*The sequence of triangle numbers is generated by adding the natural numbers. 
 So the 7th triangle number would be 1 + 2 + 3 + 4 + 5 + 6 + 7 = 28. The first ten terms would be:
1, 3, 6, 10, 15, 21, 28, 36, 45, 55, ...
Let us list the factors of the first seven triangle numbers:

 1: 1
 3: 1,3
 6: 1,2,3,6
10: 1,2,5,10
15: 1,3,5,15
21: 1,3,7,21
28: 1,2,4,7,14,28
We can see that 28 is the first triangle number to have over five divisors.
What is the value of the first triangle number to have over five hundred divisors?*/

public class Problem12 {

	public static void main(String[] args) {
	
		//System.out.println(solve());

	}

	private static long solve() {
		List<Integer> nums=new ArrayList<>(Integer.MAX_VALUE);
		int number=0;
		for (int i = 1; i < nums.size(); i++) {
			number+=i;
			nums.add(number);
		}
		int low=0, high=nums.size()-1, middle=0;
		while (low <= high) {
			middle= nums.get(low + (high - low) / 2);
			if (numberOfDivisors(middle) < 500) {
				high=middle -1;
			}else if (numberOfDivisors(middle) > 500) {
				low=middle +1;
			}
			else{
				return middle;
			}
		}
		return 	middle;		
	}

	private static int numberOfDivisors(int number) {
	    int divisors = 0;
	    int sqrt = (int) Math.sqrt(number);
	 
	    for(int i = 1; i<= sqrt; i++){
	        if(number % i == 0){
	        	divisors += 2;
	        }
	    }	 
	    return divisors;
	}
}
