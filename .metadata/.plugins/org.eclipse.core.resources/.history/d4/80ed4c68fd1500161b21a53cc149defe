package tasks5to8;

import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.util.zip.ZipEntry;
import java.util.zip.ZipOutputStream;

//Problem 7. *Create Zip Archive
//Write a program that reads three txt files words.txt, 
//count-chars.txt and lines.txt and create a zip archive 
//named text-files.zip. Use FileOutputStream, ZipOutputStream, and FileInputStream.
public class ZipArchive {

	public static void main(String[] args) {
		String zipName="text-files.zip";
		addFileToZip("words.txt", zipName);
		addFileToZip("count-chars.txt", zipName);
		addFileToZip("lines.txt", zipName);
	}

	public static void addFileToZip(String fileName, String zipName){
		
		try(ZipOutputStream zos=new ZipOutputStream(
				new FileOutputStream(zipName))){
			
			FileInputStream fis = new FileInputStream(fileName);
			ZipEntry zipEntry = new ZipEntry(fileName);
			zos.putNextEntry(zipEntry);

			byte[] bytes = new byte[1024];
			int length;
			while ((length = fis.read(bytes)) >= 0) {
				zos.write(bytes, 0, length);
			}
			fis.close();
		} catch (FileNotFoundException e) {
			e.printStackTrace();
		} catch (IOException e) {
			e.printStackTrace();
		}
			
	}
}
